{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let OrderSummaryComponent = class OrderSummaryComponent {\n  constructor(route, service) {\n    this.route = route;\n    this.service = service;\n  }\n  ngOnInit() {\n    this.orderId = this.route.snapshot.params[`orderId`];\n    this.getOrderDetails();\n    this.getUser();\n  }\n  getOrderDetails() {\n    this.service.getOrderDetails(this.orderId).subscribe(orderDetails => {\n      this.orderDetails = orderDetails;\n      this.calculateTotalAmount();\n    });\n  }\n  calculateTotalAmount() {\n    this.totalAmount = (this.orderDetails.amount + this.orderDetails.distance).toLocaleString('en-IN', {\n      style: 'currency',\n      currency: 'INR'\n    });\n  }\n  deleteCart() {\n    this.service.deleteCart(this.orderDetails.userId).subscribe();\n  }\n  getUser() {\n    this.service.getUserByEmail(sessionStorage.getItem('userSession')).subscribe(user => {\n      this.user = user;\n      this.deleteCart();\n    });\n  }\n};\nOrderSummaryComponent = __decorate([Component({\n  selector: 'app-order-summary',\n  templateUrl: './order-summary.component.html',\n  styleUrls: ['./order-summary.component.css']\n})], OrderSummaryComponent);","map":{"version":3,"names":["Component","OrderSummaryComponent","constructor","route","service","ngOnInit","orderId","snapshot","params","getOrderDetails","getUser","subscribe","orderDetails","calculateTotalAmount","totalAmount","amount","distance","toLocaleString","style","currency","deleteCart","userId","getUserByEmail","sessionStorage","getItem","user","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Lenovo\\Desktop\\Food\\Angular-FoodMunch\\Angular-Foodbox\\New folder\\src\\app\\order-summary\\order-summary.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FoodBoxService } from '../food-box.service';\nimport { OrderDetails } from '../model-classes/order-details.model';\nimport { User } from '../model-classes/user.model';\n\n@Component({\n  selector: 'app-order-summary',\n  templateUrl: './order-summary.component.html',\n  styleUrls: ['./order-summary.component.css']\n})\nexport class OrderSummaryComponent implements OnInit {\n\n  orderId: number;\n  user: User;\n  orderDetails: OrderDetails;\n  totalAmount: string;\n\n  constructor(private route: ActivatedRoute, private service: FoodBoxService) { }\n\n  ngOnInit(): void {\n    this.orderId = this.route.snapshot.params[`orderId`];\n    this.getOrderDetails();\n    this.getUser();\n  }\n\n  getOrderDetails(): void {\n    this.service.getOrderDetails(this.orderId).subscribe(\n      orderDetails => {\n        this.orderDetails = orderDetails;\n        this.calculateTotalAmount();\n      }\n    );\n  }\n\n  calculateTotalAmount(): void {\n    this.totalAmount = (this.orderDetails.amount + this.orderDetails.distance).toLocaleString('en-IN', { style: 'currency', currency: 'INR' });\n}\n\n  deleteCart(): void {\n    this.service.deleteCart(this.orderDetails.userId).subscribe();\n  }\n\n  getUser(): void {\n    this.service.getUserByEmail(sessionStorage.getItem('userSession')).subscribe(\n      (user) => {\n        this.user = user;\n        this.deleteCart();\n      }\n    );\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAOhCC,YAAoBC,KAAqB,EAAUC,OAAuB;IAAtD,KAAAD,KAAK,GAALA,KAAK;IAA0B,KAAAC,OAAO,GAAPA,OAAO;EAAoB;EAE9EC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,MAAM,CAAC,SAAS,CAAC;IACpD,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAD,eAAeA,CAAA;IACb,IAAI,CAACL,OAAO,CAACK,eAAe,CAAC,IAAI,CAACH,OAAO,CAAC,CAACK,SAAS,CAClDC,YAAY,IAAG;MACb,IAAI,CAACA,YAAY,GAAGA,YAAY;MAChC,IAAI,CAACC,oBAAoB,EAAE;IAC7B,CAAC,CACF;EACH;EAEAA,oBAAoBA,CAAA;IAClB,IAAI,CAACC,WAAW,GAAG,CAAC,IAAI,CAACF,YAAY,CAACG,MAAM,GAAG,IAAI,CAACH,YAAY,CAACI,QAAQ,EAAEC,cAAc,CAAC,OAAO,EAAE;MAAEC,KAAK,EAAE,UAAU;MAAEC,QAAQ,EAAE;IAAK,CAAE,CAAC;EAC9I;EAEEC,UAAUA,CAAA;IACR,IAAI,CAAChB,OAAO,CAACgB,UAAU,CAAC,IAAI,CAACR,YAAY,CAACS,MAAM,CAAC,CAACV,SAAS,EAAE;EAC/D;EAEAD,OAAOA,CAAA;IACL,IAAI,CAACN,OAAO,CAACkB,cAAc,CAACC,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAACb,SAAS,CACzEc,IAAI,IAAI;MACP,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChB,IAAI,CAACL,UAAU,EAAE;IACnB,CAAC,CACF;EACH;CACD;AAxCYnB,qBAAqB,GAAAyB,UAAA,EALjC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW5B,qBAAqB,CAwCjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}